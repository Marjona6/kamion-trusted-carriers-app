_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{UKDi:function(e,t,r){"use strict";var n=r("nKUr"),a=(r("q1tI"),r("vOnD").b.input.withConfig({displayName:"TextInput__StyledInput",componentId:"aearg8-0"})(["height:35px;border:1px solid ",";"],(function(e){return e.theme.dark})));t.a=function(e){var t=e.type,r=void 0===t?"text":t,i=e.labelText,o=e.labelId,c=e.placeholderText,l=e.required,s=e.onChange,u=e.value;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:o,children:i}),Object(n.jsx)(a,{type:r,id:o,name:o,placeholder:c,required:l,onChange:s,value:u})]})}},YFqc:function(e,t,r){e.exports=r("cTJO")},"YH8+":function(e,t,r){"use strict";var n=r("vOnD").b.h2.withConfig({displayName:"H2",componentId:"i55ozj-0"})(["font-size:22px;color:",";"],(function(e){return e.theme.dark}));t.a=n},ZkHt:function(e,t,r){"use strict";var n=r("nKUr"),a=(r("q1tI"),r("vOnD").b.button.withConfig({displayName:"PrimaryButton__Button",componentId:"sc-4sp1qr-0"})(["color:",";background-color:",";border:5px solid ",";border-radius:30px;padding:10px;font-size:16px;min-width:175px;"],(function(e){return e.theme.light}),(function(e){return e.theme.dark}),(function(e){return e.theme.primary})));t.a=function(e){var t=e.buttonText,r=e.disabled,i=e.onClick;return Object(n.jsx)(a,{type:"button",disabled:r,onClick:i,children:t})}},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),a=r("284h");t.__esModule=!0,t.default=void 0;var i=a(r("q1tI")),o=r("elyg"),c=r("nOHt"),l=r("vNVm"),s={};function u(e,t,r,n){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;s[t+"%"+r+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,r=(0,c.useRouter)(),a=r&&r.pathname||"/",d=i.default.useMemo((function(){var t=(0,o.resolveHref)(a,e.href,!0),r=n(t,2),i=r[0],c=r[1];return{href:i,as:e.as?(0,o.resolveHref)(a,e.as):c||i}}),[a,e.href,e.as]),f=d.href,p=d.as,b=e.children,h=e.replace,m=e.shallow,x=e.scroll,j=e.locale;"string"===typeof b&&(b=i.default.createElement("a",null,b));var g=i.Children.only(b),v=g&&"object"===typeof g&&g.ref,O=(0,l.useIntersection)({rootMargin:"200px"}),C=n(O,2),y=C[0],w=C[1],k=i.default.useCallback((function(e){y(e),v&&("function"===typeof v?v(e):"object"===typeof v&&(v.current=e))}),[v,y]);(0,i.useEffect)((function(){var e=w&&t&&(0,o.isLocalURL)(f),n="undefined"!==typeof j?j:r&&r.locale,a=s[f+"%"+p+(n?"%"+n:"")];e&&!a&&u(r,f,p,{locale:n})}),[p,f,w,j,t,r]);var T={ref:k,onClick:function(e){g.props&&"function"===typeof g.props.onClick&&g.props.onClick(e),e.defaultPrevented||function(e,t,r,n,a,i,c,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(r))&&(e.preventDefault(),null==c&&(c=n.indexOf("#")<0),t[a?"replace":"push"](r,n,{shallow:i,locale:l,scroll:c}).then((function(e){e&&c&&document.body.focus()})))}(e,r,f,p,h,m,x,j)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(g.props&&"function"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(e),u(r,f,p,{priority:!0}))}};if(e.passHref||"a"===g.type&&!("href"in g.props)){var _="undefined"!==typeof j?j:r&&r.locale,I=(0,o.getDomainLocale)(p,_,r&&r.locales,r&&r.domainLocales);T.href=I||(0,o.addBasePath)((0,o.addLocale)(p,_,r&&r.defaultLocale))}return i.default.cloneElement(g,T)};t.default=d},hKUc:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return r("oVyb")}])},iN6m:function(e,t,r){"use strict";var n=r("/MKj"),a=r("nKUr"),i=(r("q1tI"),r("vOnD")),o=r("YFqc"),c=r.n(o),l=i.b.h1.withConfig({displayName:"H1",componentId:"brxhmn-0"})(["font-size:24px;color:",";"],(function(e){return e.theme.dark})),s=r("ZkHt"),u=i.b.div.withConfig({displayName:"Header__HeaderDiv",componentId:"sc-1v2f5da-0"})(["display:flex;justify-content:space-between;align-items:flex-end;background-color:",";border-bottom:5px solid ",";"],(function(e){return e.theme.light}),(function(e){return e.theme.dark})),d=function(e){var t=e.isUserLoggedIn,r=e.logoutUser;return Object(a.jsxs)(u,{children:[Object(a.jsx)(l,{children:"Kamion Trusted Carriers App"}),t?Object(a.jsx)(c.a,{href:"/",children:Object(a.jsx)("a",{styled:{textDecoration:"none"},children:Object(a.jsx)(s.a,{buttonText:"Log out",onClick:r})})}):Object(a.jsx)(c.a,{href:"/login",children:Object(a.jsx)("a",{style:{textDecoration:"none"},children:Object(a.jsx)(s.a,{buttonText:"Log in or register"})})})]})},f={logoutUser:r("V4Hs").d};t.a=Object(n.b)((function(){return{}}),f)(d)},oVyb:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),a=r("q1tI"),i=r("/MKj"),o=r("mwIZ"),c=r.n(o),l=r("iN6m"),s=r("YH8+"),u=r("rePB"),d=r("vOnD"),f=d.b.p.withConfig({displayName:"P",componentId:"m36q3q-0"})(["font-size:12px;color:",";"],(function(e){return e.theme.dark})),p=d.b.div.withConfig({displayName:"ListingContainer",componentId:"sc-14iwenc-0"})(["display:flex;flex-direction:row;justify-content:space-between;color:",";background-color:",";border:5px solid ",";border-radius:30px;padding:10px;font-size:16px;min-height:100px;min-width:300px;margin:20px 10px;align-items:center;@media (max-width:600px){flex-direction:column;align-items:center;}"],(function(e){return e.theme.light}),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary})),b=r("ZkHt"),h=d.b.img.withConfig({displayName:"image__StyledImg",componentId:"sc-9mhu01-0"})(["height:100px;width:100px;border-radius:30px;object-fit:cover;"]),m=function(e){var t=e.src,r=e.altText;return Object(n.jsx)(h,{src:t,alt:r})},x=function(e){var t=e.carrierId,r=e.carrierFirstName,a=e.carrierLastName,i=e.carrierEmail,o=e.carrierPhotoUrl,c=e.setShowUpdateCarrierModal,l="".concat(r," ").concat(a);return Object(n.jsxs)(p,{children:[Object(n.jsx)(s.a,{children:l}),Object(n.jsx)(f,{children:i}),Object(n.jsx)(m,{src:o,altText:l}),Object(n.jsx)(b.a,{buttonText:"Update carrier data",onClick:function(){return c(t)}})]})},j=d.b.button.withConfig({displayName:"TinyButton__Button",componentId:"sc-9qvh2j-0"})(["color:",";padding:10px;font-size:16px;background-color:",";border:none;"],(function(e){return e.active?e.theme.light:e.theme.dark}),(function(e){return e.active?e.theme.dark:e.theme.light})),g=function(e){var t=e.buttonText,r=e.disabled,a=e.onClick,i=e.active;return Object(n.jsx)(j,{type:"button",disabled:r,onClick:a,active:i,children:t})},v=d.b.div.withConfig({displayName:"PageNavigation__ButtonsContainer",componentId:"sc-1qsiuii-0"})(["border:2px solid ",";display:flex;width:fit-content;margin-left:auto;margin-right:auto;"],(function(e){return e.theme.dark})),O=function(e){for(var t=e.activePage,r=void 0===t?1:t,a=e.lastPage,i=void 0===a?1:a,o=e.onClick,c=[],l=1;l<=i;l++)c.push(l);return Object(n.jsx)(v,{children:c.map((function(e){return Object(n.jsx)(g,{active:e===r,buttonText:e,onClick:o},e)}))})};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var y=d.b.div.withConfig({displayName:"CarrierList__ButtonContainer",componentId:"sc-1f3c83l-0"})(["display:flex;justify-content:center;"]),w=function(e){var t=e.getCarrierList,r=e.carrierList,i=e.updateCarrier,o=e.showAddCarrierModal,c=e.showUpdateCarrierModal,l=e.setShowUpdateCarrierModal,s=e.token,d=e.setShowAddCarrierModal,f=e.searchText,p=e.meta,h=void 0===p?{}:p,m=h.current_page,j=h.last_page,g=Object(a.useState)(m||1),v=g[0],w=g[1];Object(a.useEffect)((function(){t({token:s,page:v})}),[v]),Object(a.useEffect)((function(){t({token:s,page:v})}),[o,c,JSON.stringify(r)]);var k=f?r.filter((function(e){return(t=e.first_name,r=e.last_name,"".concat(t," ").concat(r)).toUpperCase().includes(f.toUpperCase());var t,r})):r;return Object(n.jsxs)(n.Fragment,{children:[k.map((function(e){var t,r={carrierFirstName:(t=e).first_name,carrierLastName:t.last_name,carrierEmail:t.email,carrierPhotoUrl:t.image};return Object(n.jsx)(x,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({carrierId:e.id,setShowUpdateCarrierModal:l,updateCarrier:i},r),e.id)})),Object(n.jsx)(O,{activePage:v,onClick:function(e){return w(parseInt(e.target.textContent),10)},lastPage:j}),Object(n.jsx)(y,{children:Object(n.jsx)(b.a,{buttonText:"Add a carrier",onClick:function(){return d(!0)}})})]})},k=r("HLXa"),T={getCarrierList:k.d,updateCarrier:k.g},_=Object(i.b)((function(e){return{carrierList:e.carrier.carrierList,token:e.user.token,meta:e.carrier.meta}}),T)(w),I=d.b.div.withConfig({displayName:"overlay__Overlay",componentId:"sc-1bebu5r-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;height:100%;width:100%;z-index:1000;background-color:rgba(0,0,0,0.8);"]),N=d.b.div.withConfig({displayName:"body__Body",componentId:"bzz7ld-0"})(["background-color:",";color:",";min-height:300px;min-width:300px;margin:30px;padding:30px;display:flex;flex-direction:column;align-self:center;position:static;border:5px solid ",";border-radius:30px;@media (max-width:600px){min-height:100%;margin:0;border-radius:0;}"],(function(e){return e.theme.light}),(function(e){return e.theme.dark}),(function(e){return e.theme.secondary})),L=d.b.button.withConfig({displayName:"SecondaryButton__Button",componentId:"sc-8ugkdt-0"})(["color:",";background-color:",";border:5px solid ",";border-radius:30px;padding:10px;font-size:16px;min-width:175px;"],(function(e){return e.theme.dark}),(function(e){return e.theme.primary}),(function(e){return e.theme.dark})),S=function(e){var t=e.buttonText,r=e.disabled,a=e.onClick;return Object(n.jsx)(L,{type:"button",disabled:r,onClick:a,children:t})},U=d.b.div.withConfig({displayName:"Modal__ButtonsContainer",componentId:"sc-1y7ixbf-0"})(["display:flex;align-self:center;> button{margin:15px;@media (max-width:600px){margin:15px 5px;}}"]),M=function(e){var t=e.modalText,r=e.primaryButtonText,a=e.secondaryButtonText,i=e.primaryButtonOnClick,o=e.secondaryButtonOnClick,c=e.children;return Object(n.jsx)(I,{children:Object(n.jsxs)(N,{children:[Object(n.jsx)(s.a,{children:t}),c,Object(n.jsxs)(U,{children:[i&&Object(n.jsx)(b.a,{buttonText:r,onClick:i}),o&&Object(n.jsx)(S,{buttonText:a,onClick:o})]})]})})},E=r("UKDi"),P=d.b.input.withConfig({displayName:"ImageInput__StyledInput",componentId:"e2t5x6-0"})(["height:35px;border:1px solid ",";"],(function(e){return e.theme.dark})),B=function(e){var t=e.labelText,r=e.labelId,a=e.required,i=e.onChange;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:r,children:t}),Object(n.jsx)(P,{type:"file",accept:"image/*",id:r,name:r,required:a,onChange:i})]})},q=function(e){var t=e.addCarrier,r=e.setShowAddCarrierModal,i=e.token,o=Object(a.useState)(""),c=o[0],l=o[1],s=Object(a.useState)(""),u=s[0],d=s[1],f=Object(a.useState)(""),p=f[0],b=f[1],h=Object(a.useState)(""),m=h[0],x=h[1],j=function(e){var t=new FormData,r=e.first_name,n=e.last_name,a=e.email,i=e.photo;return t.append("first_name",r),t.append("last_name",n),t.append("email",a),t.append("photo",i),t},g=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E.a,{labelText:"Carrier First Name",labelId:"carrier-first-name",placeholderText:"Carrier First Name",value:c,onChange:function(e){return l(e.target.value)},required:!0}),Object(n.jsx)(E.a,{labelText:"Carrier Last Name",labelId:"carrier-last-name",placeholderText:"Carrier Last Name",value:u,onChange:function(e){return d(e.target.value)},required:!0}),Object(n.jsx)(E.a,{type:"email",labelText:"Carrier Email",labelId:"carrier-email",placeholderText:"Carrier Email",value:p,onChange:function(e){return b(e.target.value)},required:!0}),Object(n.jsx)(B,{type:"file",labelText:"Carrier Photo",labelId:"carrier-photo",placeholderText:"Carrier Photo",onChange:function(e){return function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];x(t)}}(e)},required:!0})]});return Object(n.jsx)(M,{modalText:"Add a New Trusted Carrier",primaryButtonText:"Add Carrier",secondaryButtonText:"Cancel",primaryButtonOnClick:function(){t({formData:j({first_name:c,last_name:u,email:p,photo:m}),token:i}),r(!1)},secondaryButtonOnClick:function(){return r(!1)},token:i,children:g})},D={addCarrier:k.a},F=Object(i.b)((function(e){return{token:e.user.token}}),D)(q),H=function(e){var t=e.updateCarrier,r=e.setShowUpdateCarrierModal,i=e.token,o=e.carrierId,c=e.carrierList.find((function(e){return e.id===o})),l=Object(a.useState)(c.first_name||""),s=l[0],u=l[1],d=Object(a.useState)(c.last_name||""),f=d[0],p=d[1],b=Object(a.useState)(c.email||""),h=b[0],m=b[1],x=function(e){var t=new FormData,r=e.first_name,n=e.last_name,a=e.email;return t.append("first_name",r),t.append("last_name",n),t.append("email",a),t},j=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E.a,{labelText:"Carrier First Name",labelId:"carrier-first-name",placeholderText:"Carrier First Name",value:s,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)(E.a,{labelText:"Carrier Last Name",labelId:"carrier-last-name",placeholderText:"Carrier Last Name",value:f,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)(E.a,{type:"email",labelText:"Carrier Email",labelId:"carrier-email",placeholderText:"Carrier Email",value:h,onChange:function(e){return m(e.target.value)}})]});return Object(n.jsx)(M,{modalText:"Update Carrier",primaryButtonText:"Update",secondaryButtonText:"Cancel",primaryButtonOnClick:function(){t({formData:x({first_name:s,last_name:f,email:h}),token:i,carrierId:o}),r(!1)},secondaryButtonOnClick:function(){return r(!1)},token:i,children:j})},K={updateCarrier:k.g},z=Object(i.b)((function(e){return{token:e.user.token,carrierList:e.carrier.carrierList}}),K)(H),A=r("V4Hs"),R=function(e){var t=e.labelText,r=void 0===t?"Search":t,a=e.labelId,i=void 0===a?"search":a,o=e.placeholderText,c=void 0===o?"Type to search":o,l=e.value,s=e.onChange;return Object(n.jsx)(E.a,{labelText:r,labelId:i,placeholderText:c,value:l,onChange:s})},J=function(e){var t=e.searchText,r=e.setSearchText;return Object(n.jsx)(R,{labelText:"Search for a carrier by name",value:t,onChange:function(e){return r(e.target.value)}})},V={registerUser:A.g},Y=Object(i.b)((function(e){return{carrierList:e.carrier.carrierList}}),V)(J);t.default=function(){var e=Object(i.c)((function(e){return!!c()(e,"user.token")})),t=Object(a.useState)(!1),r=t[0],o=t[1],u=Object(a.useState)(null),d=u[0],f=u[1],p=Object(a.useState)(""),b=p[0],h=p[1];return e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{isUserLoggedIn:e}),Object(n.jsx)(s.a,{children:"My Trusted Carriers"}),Object(n.jsx)(Y,{searchText:b,setSearchText:h}),Object(n.jsx)(_,{showAddCarrierModal:r,setShowAddCarrierModal:o,showUpdateCarrierModal:d,setShowUpdateCarrierModal:f,searchText:b}),r&&Object(n.jsx)(F,{setShowAddCarrierModal:o}),d&&Object(n.jsx)(z,{setShowUpdateCarrierModal:f,carrierId:d})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.a,{isUserLoggedIn:e}),Object(n.jsx)(s.a,{children:"Please log in to see this page!"})]})}},vNVm:function(e,t,r){"use strict";var n=r("J4zp"),a=r("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!c,a=(0,i.useRef)(),s=(0,i.useState)(!1),u=n(s,2),d=u[0],f=u[1],p=(0,i.useCallback)((function(e){a.current&&(a.current(),a.current=void 0),r||d||e&&e.tagName&&(a.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=l.get(t);if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return l.set(t,r={id:t,observer:a,elements:n}),r}(r),a=n.id,i=n.observer,o=n.elements;return o.set(e,t),i.observe(e),function(){o.delete(e),i.unobserve(e),0===o.size&&(i.disconnect(),l.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[r,t,d]);return(0,i.useEffect)((function(){c||d||(0,o.default)((function(){return f(!0)}))}),[d]),[p,d]};var i=r("q1tI"),o=a(r("0G5g")),c="undefined"!==typeof IntersectionObserver;var l=new Map}},[["hKUc",1,2,0,3,4]]]);